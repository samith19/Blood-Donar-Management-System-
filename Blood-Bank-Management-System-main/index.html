<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Bank Management System</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                 <h1 class="logo">
                    <span class="logo-icon"><i class="fas fa-tint fa-lg"></i></span>
                    <span class="logo-text">
                        <span class="logo-gradient">Blood Bank</span><span class="logo-subtext"> Management System</span>
                    </span>
                </h1>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" data-target="dashboard-section" class="active" data-tooltip="Dashboard" aria-label="Dashboard"><span class="nav-icon"><i class="fas fa-chart-pie fa-fw"></i></span><span class="nav-text">Dashboard</span></a></li>
                    <li><a href="#" data-target="blood-types-section" data-tooltip="Blood Types" aria-label="Blood Types"><span class="nav-icon"><i class="fas fa-vial fa-fw"></i></span><span class="nav-text">Blood Types</span></a></li>
                    <li><a href="#" data-target="hospitals-section" data-tooltip="Hospitals" aria-label="Hospitals"><span class="nav-icon"><i class="far fa-hospital fa-fw"></i></span><span class="nav-text">Hospitals</span></a></li>
                    <li><a href="#" data-target="donors-section" data-tooltip="Donors" aria-label="Donors"><span class="nav-icon"><i class="fas fa-user-plus fa-fw"></i></span><span class="nav-text">Donors</span></a></li>
                    <li><a href="#" data-target="recipients-section" data-tooltip="Recipients" aria-label="Recipients"><span class="nav-icon"><i class="fas fa-user-check fa-fw"></i></span><span class="nav-text">Recipients</span></a></li>
                    <li><a href="#" data-target="donor-transactions-section" data-tooltip="Donor Transactions" aria-label="Donor Transactions"><span class="nav-icon"><i class="fas fa-hand-holding-medical fa-fw"></i></span><span class="nav-text">Donor Transactions</span></a></li>
                    <li><a href="#" data-target="recipient-transactions-section" data-tooltip="Recipient Transactions" aria-label="Recipient Transactions"><span class="nav-icon"><i class="fas fa-receipt fa-fw"></i></span><span class="nav-text">Recipient Transactions</span></a></li>
                </ul>
            </nav>
            <button id="sidebar-toggle" title="Toggle Sidebar" aria-label="Toggle Sidebar">
                <i class="fas fa-chevron-left"></i>
            </button>
        </aside>

        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active-section">
                <header class="section-header">
                    <h2><i class="fas fa-chart-pie section-icon"></i> Dashboard</h2>
                    <p class="section-description">System overview and key statistics.</p>
                </header>
                <div class="stats-grid">
                    <div class="stat-card card">
                        <div class="stat-icon"><i class="fas fa-users"></i></div>
                        <div class="stat-info">
                            <h3>Total Donors</h3>
                            <p id="total-donors">0</p>
                        </div>
                    </div>
                    <div class="stat-card card">
                        <div class="stat-icon"><i class="fas fa-procedures"></i></div>
                        <div class="stat-info">
                            <h3>Total Recipients</h3>
                            <p id="total-recipients">0</p>
                        </div>
                    </div>
                     <div class="stat-card card">
                        <div class="stat-icon"><i class="far fa-hospital"></i></div>
                        <div class="stat-info">
                            <h3>Total Hospitals</h3>
                            <p id="total-hospitals">0</p>
                        </div>
                    </div>
                    <div class="stat-card card">
                         <div class="stat-icon"><i class="fas fa-vial"></i></div>
                         <div class="stat-info">
                            <h3>Total Blood Types</h3>
                            <p id="total-blood-types">0</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Blood Types Section -->
            <section id="blood-types-section" class="content-section">
                <header class="section-header">
                    <h2><i class="fas fa-vial section-icon"></i> Blood Types</h2>
                    <button class="btn btn-primary btn-add" id="add-blood-type-btn"><i class="fas fa-plus"></i> Add New</button>
                </header>

                <form id="blood-type-form" class="data-form card hidden">
                    <h3><i class="fas fa-edit form-icon"></i> Add/Edit Blood Type</h3>
                    <input type="hidden" id="blood-type-edit-id"> <!-- Hidden field to store ID when editing -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="blood-type-id">Blood Type ID</label>
                            <input type="text" id="blood-type-id" name="blood-type-id" placeholder="e.g., BT001" required>
                        </div>
                        <div class="form-group">
                            <label for="blood-type-name">Name</label>
                            <input type="text" id="blood-type-name" name="blood-type-name" placeholder="e.g., O Negative" required>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        <button type="button" class="btn btn-secondary" id="cancel-blood-type-btn"><i class="fas fa-times"></i> Cancel</button>
                    </div>
                </form>

                <div class="table-container card">
                    <table id="blood-type-table" class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody><!-- Populated by JS --></tbody>
                    </table>
                </div>
            </section>

            <!-- Hospitals Section -->
            <section id="hospitals-section" class="content-section">
                <header class="section-header">
                    <h2><i class="far fa-hospital section-icon"></i> Hospitals</h2>
                    <button class="btn btn-primary btn-add" id="add-hospital-btn"><i class="fas fa-plus"></i> Add New</button>
                </header>

                <form id="hospital-form" class="data-form card hidden">
                    <h3><i class="fas fa-edit form-icon"></i> Add/Edit Hospital</h3>
                    <input type="hidden" id="hospital-edit-id"> <!-- Hidden field for editing -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="hospital-id">Hospital ID</label>
                            <input type="text" id="hospital-id" name="hospital-id" placeholder="e.g., H001" required>
                        </div>
                        <div class="form-group">
                            <label for="hospital-name">Name</label>
                            <input type="text" id="hospital-name" name="hospital-name" placeholder="e.g., City General Hospital" required>
                        </div>
                        <div class="form-group form-group-full">
                            <label for="hospital-address">Address</label>
                            <input type="text" id="hospital-address" name="hospital-address" placeholder="123 Main St, Anytown">
                        </div>
                        <div class="form-group">
                            <label for="hospital-contact">Contact Number</label>
                            <input type="tel" id="hospital-contact" name="hospital-contact" placeholder="e.g., +1234567890" required>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        <button type="button" class="btn btn-secondary" id="cancel-hospital-btn"><i class="fas fa-times"></i> Cancel</button>
                    </div>
                </form>

                <div class="table-container card">
                    <table id="hospital-table" class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Address</th>
                                <th>Contact</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody><!-- Populated by JS --></tbody>
                    </table>
                </div>
            </section>

             <!-- Donors Section -->
            <section id="donors-section" class="content-section">
                 <header class="section-header">
                    <h2><i class="fas fa-user-plus section-icon"></i> Donors</h2>
                    <button class="btn btn-primary btn-add" id="add-donor-btn"><i class="fas fa-plus"></i> Add New</button>
                </header>

                <form id="donor-form" class="data-form card hidden">
                    <h3><i class="fas fa-edit form-icon"></i> Add/Edit Donor</h3>
                    <input type="hidden" id="donor-edit-id"> <!-- Hidden field for editing -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="donor-id">Donor ID</label>
                            <input type="text" id="donor-id" name="donor-id" placeholder="e.g., D001" required>
                        </div>
                        <div class="form-group">
                            <label for="donor-name">Name</label>
                            <input type="text" id="donor-name" name="donor-name" placeholder="Full name" required>
                        </div>
                        <div class="form-group">
                            <label for="donor-contact">Contact Number</label>
                            <input type="tel" id="donor-contact" name="donor-contact" placeholder="e.g., +1234567890" required>
                        </div>
                        <div class="form-group">
                            <label for="donor-age">Age (18+)</label>
                            <input type="number" id="donor-age" name="donor-age" min="18" placeholder="Min 18" required>
                        </div>
                        <div class="form-group">
                            <label for="donor-blood-type">Blood Type</label>
                            <select id="donor-blood-type" name="donor-blood-type" required>
                                <option value="">-- Select Blood Type --</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                <!-- Options populated by JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="donor-card-id">Donation Card ID <span class="optional-label">(Optional)</span></label>
                            <input type="text" id="donor-card-id" name="donor-card-id" placeholder="e.g., CARD001">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        <button type="button" class="btn btn-secondary" id="cancel-donor-btn"><i class="fas fa-times"></i> Cancel</button>
                    </div>
                </form>

                 <div class="table-container card">
                    <table id="donor-table" class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Contact</th>
                                <th>Age</th>
                                <th>Blood Type</th>
                                <th>Card ID</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody><!-- Populated by JS --></tbody>
                    </table>
                </div>
            </section>

            <!-- Recipients Section -->
            <section id="recipients-section" class="content-section">
                 <header class="section-header">
                    <h2><i class="fas fa-user-check section-icon"></i> Recipients</h2>
                    <button class="btn btn-primary btn-add" id="add-recipient-btn"><i class="fas fa-plus"></i> Add New</button>
                </header>

                <form id="recipient-form" class="data-form card hidden">
                    <h3><i class="fas fa-edit form-icon"></i> Add/Edit Recipient</h3>
                    <input type="hidden" id="recipient-edit-id"> <!-- Hidden field for editing -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="recipient-id">Recipient ID</label>
                            <input type="text" id="recipient-id" name="recipient-id" placeholder="e.g., R001" required>
                        </div>
                        <div class="form-group">
                            <label for="recipient-name">Name</label>
                            <input type="text" id="recipient-name" name="recipient-name" placeholder="Full name" required>
                        </div>
                        <div class="form-group">
                            <label for="recipient-contact">Contact Number</label>
                            <input type="tel" id="recipient-contact" name="recipient-contact" placeholder="e.g., +1234567890" required>
                        </div>
                        <div class="form-group">
                            <label for="recipient-blood-type">Required Blood Type</label>
                            <select id="recipient-blood-type" name="recipient-blood-type" required>
                                <option value="-">-- Select Blood Type --</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                 <!-- Options populated by JS -->
                            </select>
                        </div>
                        <div class="form-group form-group-full">
                            <label for="recipient-donor-id">Directed Donor ID <span class="optional-label">(Optional)</span></label>
                            <input type="text" id="recipient-donor-id" name="recipient-donor-id" placeholder="Link to specific donor (e.g., D001)">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        <button type="button" class="btn btn-secondary" id="cancel-recipient-btn"><i class="fas fa-times"></i> Cancel</button>
                    </div>
                </form>

                <div class="table-container card">
                    <table id="recipient-table" class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Contact</th>
                                <th>Blood Type</th>
                                <th>Directed Donor</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody><!-- Populated by JS --></tbody>
                    </table>
                </div>
            </section>

            <!-- Donor Transactions Section -->
            <section id="donor-transactions-section" class="content-section">
                 <header class="section-header">
                    <h2><i class="fas fa-hand-holding-medical section-icon"></i> Donor Transactions</h2>
                    <button class="btn btn-primary btn-add" id="add-donor-trans-btn"><i class="fas fa-plus"></i> Add New</button>
                </header>

                <form id="donor-trans-form" class="data-form card hidden">
                    <h3><i class="fas fa-edit form-icon"></i> Add/Edit Donor Transaction</h3>
                    <input type="hidden" id="donor-trans-edit-id"> <!-- Hidden field for editing -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="donor-trans-id">Transaction ID</label>
                            <input type="text" id="donor-trans-id" name="donor-trans-id" placeholder="e.g., DT001" required>
                        </div>
                        <div class="form-group">
                            <label for="donor-trans-donor">Donor</label>
                            <select id="donor-trans-donor" name="donor-trans-donor" required>
                                <option value="">-- Select Donor --</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                 <!-- Options populated by JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="donor-trans-hospital">Hospital</label>
                            <select id="donor-trans-hospital" name="donor-trans-hospital" required>
                                <option value="">-- Select Hospital --</option>
                                 <!-- Options populated by JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="donor-trans-date">Donation Date</label>
                            <input type="date" id="donor-trans-date" name="donor-trans-date" required>
                        </div>
                        <div class="form-group">
                            <label for="donor-trans-confirmation">Confirmation Code <span class="optional-label">(Optional)</span></label>
                            <input type="text" id="donor-trans-confirmation" name="donor-trans-confirmation" placeholder="Code if provided">
                        </div>
                        <div class="form-group">
                            <label for="donor-trans-health">Health Status <span class="optional-label">(Optional)</span></label>
                            <input type="text" id="donor-trans-health" name="donor-trans-health" placeholder="e.g., Good, Fit, Deferred">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        <button type="button" class="btn btn-secondary" id="cancel-donor-trans-btn"><i class="fas fa-times"></i> Cancel</button>
                    </div>
                </form>

                <div class="table-container card">
                    <table id="donor-trans-table" class="data-table">
                        <thead>
                            <tr>
                                <th>Trans ID</th>
                                <th>Donor</th>
                                <th>Hospital</th>
                                <th>Date</th>
                                <th>Confirmation</th>
                                <th>Health</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody><!-- Populated by JS --></tbody>
                    </table>
                </div>
            </section>

            <!-- Recipient Transactions Section -->
            <section id="recipient-transactions-section" class="content-section">
                 <header class="section-header">
                    <h2><i class="fas fa-receipt section-icon"></i> Recipient Transactions</h2>
                    <button class="btn btn-primary btn-add" id="add-recipient-trans-btn"><i class="fas fa-plus"></i> Add New</button>
                </header>

                <form id="recipient-trans-form" class="data-form card hidden">
                    <h3><i class="fas fa-edit form-icon"></i> Add/Edit Recipient Transaction</h3>
                    <input type="hidden" id="recipient-trans-edit-id"> <!-- Hidden field for editing -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="recipient-trans-id">Transaction ID</label>
                            <input type="text" id="recipient-trans-id" name="recipient-trans-id" placeholder="e.g., RT001" required>
                        </div>
                        <div class="form-group">
                            <label for="recipient-trans-recipient">Recipient</label>
                            <select id="recipient-trans-recipient" name="recipient-trans-recipient" required>
                                <option value="">-- Select Recipient --</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                 <!-- Options populated by JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="recipient-trans-hospital">Hospital</label>
                            <select id="recipient-trans-hospital" name="recipient-trans-hospital" required>
                                <option value="">-- Select Hospital --</option>
                                <option value="kurnool-hospital-1">Kurnool General Hospital</option>
                                <option value="guntur-hospital-1">Guntur Medical Hospital</option>
                                <option value="kurnool-hospital-2">Kurnool Apollo Hospital</option>
                                <option value="guntur-hospital-2">Guntur Care Hospital</option>
        <!-- Options populated by JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="recipient-trans-blood-type">Blood Type Received</label>
                            <select id="recipient-trans-blood-type" name="recipient-trans-blood-type" required>
                                <option value="">-- Select Blood Type --</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                 <!-- Options populated by JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="recipient-trans-date">Transaction Date</label>
                            <input type="date" id="recipient-trans-date" name="recipient-trans-date" required>
                        </div>
                         <div class="form-group">
                            <label for="recipient-trans-donor-card">Source Donor Card ID <span class="optional-label">(If known)</span></label>
                            <input type="text" id="recipient-trans-donor-card" name="recipient-trans-donor-card" placeholder="Associated card (e.g., CARD001)">
                        </div>
                        <div class="form-group form-group-full">
                            <label for="recipient-trans-request">Request / Notes <span class="optional-label">(Optional)</span></label>
                            <textarea id="recipient-trans-request" name="recipient-trans-request" rows="3" placeholder="Details about the request or transfusion..."></textarea>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        <button type="button" class="btn btn-secondary" id="cancel-recipient-trans-btn"><i class="fas fa-times"></i> Cancel</button>
                    </div>
                </form>

                <div class="table-container card">
                    <table id="recipient-trans-table" class="data-table">
                        <thead>
                            <tr>
                                <th>Trans ID</th>
                                <th>Recipient</th>
                                <th>Hospital</th>
                                <th>Blood Type</th>
                                <th>Date</th>
                                <th>Request/Notes</th>
                                <th>Donor Card</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody><!-- Populated by JS --></tbody>
                    </table>
                </div>
            </section>

             <!-- Toast Notification Placeholder -->
             <div id="toast-container"></div>
        </main>
    </div>

    <!-- Theme Toggle Button -->
    <button id="theme-toggle" title="Toggle Theme" aria-label="Toggle Theme">
        <span class="icon-light"><i class="fas fa-sun"></i></span>
        <span class="icon-dark"><i class="fas fa-moon"></i></span>
    </button>

    <script src="script.js"></script>
</body>
</html> 